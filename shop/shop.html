<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .shopping-wrapper{
            width: 100%;
            height: auto;
            display: flex;
            justify-content: space-between;
        }
        .shopping-container{
            width: 60%;
            height: auto;
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
            margin: auto;

        }
        .shopping{
            background-color: red;
            width: 300px;
            height: auto;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        .shopping-image{
            width: 100%;
            height: 60%;
        }
        .shopping-image img{
            width: 100%;
            height: 100%;
            border-radius: 10px;
        }
        .shopping-heading,.shopping-button{
            width: 100%;
            height: 20%;
        }
        .shopping-heading h2{
            font-size: 2rem;
            font-family: helvetica;
            color: white;
            text-align: center;
        }
        .shopping-button p{
            font-size: 1.8rem;
            color: white;
            font-family: helvetica;
            text-align: center;
        }
        .shopping-button button{
            width: 100%;
            padding: 10px;
            border-radius: 10px;
            border: none;
            font-size: 2rem;
            font-family: Arial, Helvetica, sans-serif;
            cursor: pointer;
        }
        .shopping-cart{
            width: 35%;
            height: auto;
        }
        .shopping-button2{
            display: flex;
            width: 100%;
            height: 20%;
            align-items: center;
            justify-content: space-around;
        }
        button{
            width: 50px;
            font-size: 1.5rem;
        }
        p{
            font-size: 2rem;
            font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
            color: white;
        }
    </style>
</head>
<body>
    <div class="shopping-wrapper">
        <div class="shopping-container" id="shoppingContainer">
            
        </div>
        <div class="shopping-cart" id="shoppingCart">
            <h1>This is  a Shopping Cart</h1>
   
        </div>
        .
    </div>
    <script>
        const obj = [{
            name: 'nissan',
            id: 1,
            img: 'nissan.jpg',
            quantity: 1,
            price: 800
        },
        {
            name: 'toyota',
            id: 2,
            img: 'toyota.jpg',
            quantity: 5,
            price: 700
        },
        {
            name: 'corolla',
            id: 3,
            img: 'corolla.jpg',
            quantity: 7,
            price: 800
        },
        {
            name: 'crown',
            id: 4,
            img: 'crown.jpg',
            quantity: 6,
            price: 900
        }
        
    ]
    const cart = []
        function Shopping(){
            const container = document.getElementById("shoppingContainer")
            obj.map(function(r){
              container.innerHTML += `
                <div class="shopping">
                    <div class="shopping-image">
                    <img src= ${r.img} alt="car">
                </div>

                <div class="shopping-heading">
                    <h2>${r.name}</h2>
                </div>
                <div class="shopping-button">
                 <p>${r.price}</p>
                 <button onclick="product(${r.id})">Buy</button>
                </div>
            </div>
              `  
            })
        }
        function product(id){
            let itemNumber = {
                itemNumber:1
            };
           const product = obj.find(function(id2){
               return id2.id === id;
            });
            const putting = {...itemNumber,...product}
            console.log(putting)
                if(cart.length > 0){
                    const check = cart.some(function(response){
                        return response.id === putting.id;
                    });
                    if(check === false){
                        cart.push(putting);
                        display()
                    }else{
                        alert("It's There")
                    }
                }else{
                    cart.push(putting)
                    display();
                }
            console.log(cart);
        }
        function display(){
               const shoppingCart = document.getElementById("shoppingCart")
                shoppingCart.innerHTML = ""
            cart.map(function(displayCart){
                shoppingCart.innerHTML += `
                         <div class="shopping">
                <div class="shopping-image">
                    <img src=${displayCart.img} alt="car">
                </div>
                <div class="shopping-heading">
                    <h2>${displayCart.name}</h2>
                </div>
                <div class="shopping-button">
                 <p id="multiplied">${displayCart.price}</p>
                </div>
                <div class="shopping-button2">
                    <button onclick="add(${displayCart.id})">+</button>
                    <p id="result">${displayCart.itemNumber}</p>
                    <button onclick=sub(${displayCart.id})>-</button>
                </div>
            </div>
                `
            })

        }
        Shopping();
        function add(id){
            const result = document.getElementById("result");
            const item = cart.find(function(marches){
                return marches.id === id;
            });
            console.log();
            if(item.itemNumber < item.quantity){
                item.itemNumber += 1
                result.innerHTML = item.itemNumber
                console.log(item)
                multiplying(item.itemNumber,item.price);
            }
        }
        function sub(id){
            const result = document.getElementById("result")
            const item = cart.find(function(marches){
                return marches.id === id;
            });
            if(item.itemNumber > 1){
                item.itemNumber -= 1;
                result.innerHTML = item.itemNumber;  
                multiplying(item.itemNumber,item.price);
            }
        }
        function multiplying(itemNumber,price){
            const multiplied = document.getElementById("multiplied");
            const mult = price * itemNumber;
            multiplied.innerHTML = mult;
        }
    </script>
</body>
</html>